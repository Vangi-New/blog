import{_ as n,o as s,c as a,a as t}from"./app-c9e63f9e.js";const e="/assets/20231228160807-b1bc6514.png",p="/assets/20231228161043-d37ac684.png",o={},i=t(`<h2 id="介绍" tabindex="-1"><a class="header-anchor" href="#介绍" aria-hidden="true">#</a> 介绍</h2><p>Node.js 中的第三方模块又叫做<strong>包</strong></p><p>不同于 Node.js 中的内置模块与自定义模块，包是由第三方个人或团队开发出来的，免费供所有人使用。Node.js 中的包都是免费且开源的</p><ul><li>由于 Node.js 的内置模块仅提供了一些底层的 API，导致在基于内置模块进行项目开发的时，效率很低</li><li><strong>包是基于内置模块封装出来的</strong>，提供了更高级、更方便的 API，极大的提高了开发效率</li><li>包和内置模块之间的关系，类似于 jQuery和 浏览器内置 API 之间的关系</li></ul><p>国外有一家 IT 公司，叫做 npm, Inc. 这家公司旗下有一个非常著名的网站 https://www.npmjs.com/，它是全球最大的包共享平台，你可以从这个网站上搜索到任何你需要的包，只要你有足够的耐心！到目前位置，全球约1100多万的开发人员，通过这个包共享平台，开发并共享了超过120多万个包 供我们使用。npm, Inc. 公司提供了一个地址为 https://registry.npmjs.org/ 的服务器，来对外共享所有的包，我们可以从这个服务器上下载自己所需要的包。</p><ol><li>从 https://www.npmjs.com/网站上搜索自己所需要的包</li><li>从 https://registry.npmjs.org/ 服务器上下载自己需要的包</li></ol><h2 id="下载包" tabindex="-1"><a class="header-anchor" href="#下载包" aria-hidden="true">#</a> <strong>下载包</strong></h2><p>npm, Inc. 公司提供了一个包管理工具，使用这个工具从 https://registry.npmjs.org/ 服务器把需要的包下载到本地使用。</p><p>工具的名字叫做 Node Package Manager（简称 npm 包管理工具），这个包管理工具随着 Node.js 的安装包一起被安装到了用户的电脑上。在终端中</p><p>执行 <code>npm -v</code>命令，来查看自己电脑上所安装的 npm 包管理工具的版本号</p><h2 id="npm-安装" tabindex="-1"><a class="header-anchor" href="#npm-安装" aria-hidden="true">#</a> npm 安装</h2><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// dateFormat.js</span>

<span class="token comment">// 1. 定义格式化时间的方法</span>
<span class="token keyword">function</span> <span class="token function">dateFormat</span><span class="token punctuation">(</span><span class="token parameter">dtStr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> dt <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>dtStr<span class="token punctuation">)</span>

  <span class="token keyword">const</span> y <span class="token operator">=</span> dt<span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> m <span class="token operator">=</span> <span class="token function">padZero</span><span class="token punctuation">(</span>dt<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> d <span class="token operator">=</span> <span class="token function">padZero</span><span class="token punctuation">(</span>dt<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> hh <span class="token operator">=</span> <span class="token function">padZero</span><span class="token punctuation">(</span>dt<span class="token punctuation">.</span><span class="token function">getHours</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> mm <span class="token operator">=</span> <span class="token function">padZero</span><span class="token punctuation">(</span>dt<span class="token punctuation">.</span><span class="token function">getMinutes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> ss <span class="token operator">=</span> <span class="token function">padZero</span><span class="token punctuation">(</span>dt<span class="token punctuation">.</span><span class="token function">getSeconds</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

  <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>y<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>m<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>d<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>hh<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>mm<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>ss<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span>
<span class="token punctuation">}</span>

<span class="token comment">// 定义补零的函数</span>
<span class="token keyword">function</span> <span class="token function">padZero</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> n <span class="token operator">&gt;</span> <span class="token number">9</span> <span class="token operator">?</span> n <span class="token operator">:</span> <span class="token string">&#39;0&#39;</span> <span class="token operator">+</span> n
<span class="token punctuation">}</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  dateFormat
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 1. 导入需要的包</span>
<span class="token comment">// 注意：导入的名称，就是装包时候的名称</span>
<span class="token keyword">const</span> moment <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;moment&#39;</span><span class="token punctuation">)</span>
<span class="token comment">//查文档看用法</span>
<span class="token keyword">const</span> dt <span class="token operator">=</span> <span class="token function">moment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&#39;YYYY-MM-DD HH:mm:ss&#39;</span><span class="token punctuation">)</span><span class="token comment">//对时间进行格式化</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>dt<span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 导入自定义的格式化时间的模块</span>
<span class="token keyword">const</span> <span class="token constant">TIME</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./dateFormat&#39;</span><span class="token punctuation">)</span>

<span class="token comment">// 调用方法，进行时间的格式化</span>
<span class="token keyword">const</span> dt <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// console.log(dt)</span>
<span class="token keyword">const</span> newDT <span class="token operator">=</span> <span class="token constant">TIME</span><span class="token punctuation">.</span><span class="token function">dateFormat</span><span class="token punctuation">(</span>dt<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newDT<span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="在项目中安装包的命令" tabindex="-1"><a class="header-anchor" href="#在项目中安装包的命令" aria-hidden="true">#</a> 在项目中安装包的命令</h2><p>下载在项目里</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> 包的完整名称
或者
<span class="token function">npm</span> i 包的完整名称
<span class="token function">npm</span> i 包的完整名称 包的完整名称（加空格可以安装多个包）

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 导入自定义的格式化时间的模块</span>
<span class="token keyword">const</span> <span class="token constant">TIME</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./dateFormat&#39;</span><span class="token punctuation">)</span>

<span class="token comment">// 调用方法，进行时间的格式化</span>
<span class="token keyword">const</span> dt <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// console.log(dt)</span>
<span class="token keyword">const</span> newDT <span class="token operator">=</span> <span class="token constant">TIME</span><span class="token punctuation">.</span><span class="token function">dateFormat</span><span class="token punctuation">(</span>dt<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newDT<span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>初次装包完成后，在项目文件夹下多一个叫做 <code>node_modules</code> 的文件夹和 <code>package-lock.json</code> 的配置文件。</p><ul><li><p>node_modules 文件夹用来存放所有已安装到项目中的包。require() 导入第三方包时，从这个目录中查找并加载</p></li><li><p>package-lock.json 配置文件用来记录 node_modules 目录下的每一个包的下载信息，例如包的名字、版本号、下载地址等</p></li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// package-lock.json</span>
<span class="token punctuation">{</span>
  <span class="token string-property property">&quot;requires&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;lockfileVersion&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;dependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&quot;moment&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2.29.1&quot;</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;resolved&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://registry.npmjs.org/moment/-/moment-2.29.1.tgz&quot;</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;integrity&quot;</span><span class="token operator">:</span> <span class="token string">&quot;sha512-kHmoybcPV8Sqy59DwNDY3Jefr64lK/by/da0ViFcuA4DH0vQg5Q6Ze5VimxkfQNSC+Mls/Kx53s7TjP1RhFEDQ==&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>注意</strong>：不要手动修改 node_modules 或 package-lock.json文件中的任何代码，npm 包管理工具会自动维护它们</p><h2 id="安装指定版本的包" tabindex="-1"><a class="header-anchor" href="#安装指定版本的包" aria-hidden="true">#</a> 安装指定版本的包</h2><p><code>npm install</code> 命令默认安装最新版本的包。如需安装指定版本的包，在包名之后，<code>@</code></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">npm</span> i 包的完整名称@版本号
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>不用删除以前的版本，npm会自动覆盖之前的版本。</p><h3 id="版本号" tabindex="-1"><a class="header-anchor" href="#版本号" aria-hidden="true">#</a> 版本号</h3><p>包的版本号以“点分十进制”形式进行定义，总共有三位数字，如 2.24.0。其中每一位数字所代表的的含义如下</p><ul><li>第1位数字：<strong>大版本</strong></li><li>第2位数字：<strong>功能版本</strong></li><li>第3位数字：<strong>Bug修复版本</strong></li></ul><p>版本号提升的规则：只要前面的版本号增长了，则后面的版本号归零</p><h2 id="包管理配置文件" tabindex="-1"><a class="header-anchor" href="#包管理配置文件" aria-hidden="true">#</a> 包管理配置文件</h2><p>npm规定，<strong>在项目根目录中</strong>，必须提供一个叫做 package.json 的包管理配置文件。用来记录与项目有关的一些配置信息。如</p><ul><li>项目的名称、版本号、描述等</li><li>项目中都用到了哪些包</li><li>哪些包只在开发期间会用到</li><li>那些包在开发和部署时都需要用到</li></ul><h3 id="相关问题" tabindex="-1"><a class="header-anchor" href="#相关问题" aria-hidden="true">#</a> 相关问题</h3><ol><li><p><strong>多人协作的问题</strong></p><p>遇到的问题：第三方包的体积过大，不方便团队成员之间共享项目源代码。</p><p>解决方案：共享时剔除 node_modules</p></li><li><p><strong>如何记录项目中安装了哪些包</strong></p><p>在项目根目录 package.json 的配置文件用来记录项目中安装了哪些包。从而方便剔除 node_modules 目录之后，在团队成员之间共享项目的源代码</p><p>注意：今后在项目开发中，一定要把 node_modules文件夹，添加到 .gitignore 忽略文件中</p></li><li><p><strong>快速创建 package.json</strong></p><p>npm 包管理工具提供了一个快捷命令，可以在执行命令时所处的目录中，快速创建 package.json 这个包管理配置文件。如下：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">npm</span> init <span class="token parameter variable">-y</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>在新建项目文件夹以后就执行该命令，项目开发期间只用执行这一次就行。</strong></p><ul><li><p>上述命令只能在英文的目录下成功运行！所以项目文件夹的名称一定要<strong>使用英文命名，不能出现空格</strong></p></li><li><p><strong>运行 npm install 命令安装包的时候，npm包管理工具会自动把包的名称和版本号，记录到 package.json</strong></p></li><li><p>package.json 文件中的 <strong>dependencies</strong> 节点，专门用来记录您使用 npm install 命令安装了哪些包</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token punctuation">{</span>
  <span class="token string-property property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;test&quot;</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.0.0&quot;</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;main&quot;</span><span class="token operator">:</span> <span class="token string">&quot;index.js&quot;</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&quot;test&quot;</span><span class="token operator">:</span> <span class="token string">&quot;echo \\&quot;Error: no test specified\\&quot; &amp;&amp; exit 1&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;keywords&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;author&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;license&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ISC&quot;</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;dependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&quot;art-template&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^4.13.2&quot;</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;jquery&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^3.6.0&quot;</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;moment&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^2.29.1&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li></ol><h2 id="一次性安装所有的包" tabindex="-1"><a class="header-anchor" href="#一次性安装所有的包" aria-hidden="true">#</a> 一次性安装所有的包</h2><p>拿到一个剔除了 node_modules 的项目之后，需要先把所有的包下载到项目中，才能将项目运行起来。否则会报类似于下面的错误</p><p><img src="`+e+`" alt=""></p><p>可以运行 <code>npm install</code> 命令（或 <code>npm i</code>）一次性安装所有的依赖包</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="卸载包" tabindex="-1"><a class="header-anchor" href="#卸载包" aria-hidden="true">#</a> 卸载包</h2><p>运行 <code>npm uninstall</code> 命令，来卸载指定的包</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">npm</span> uninstall 包名
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><code>npm uninstall</code> 命令执行成功后，会把卸载的包，自动从 package.json 的 dependencies 中移除掉</p><h2 id="devdependencies节点" tabindex="-1"><a class="header-anchor" href="#devdependencies节点" aria-hidden="true">#</a> <strong>devDependencies节点</strong></h2><p>如果某些包只在项目开发阶段会用到，在项目上线之后不会用到，则建议把这些包记录到 devDependencies节点中。</p><p>如果某些包在开发和项目上线之后都需要用到，则建议把这些包记录到 dependencies 节点中。可以使用如下的命令，将包记录到 devDependencies节点中。</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>//完整写法 包名和--save-dev顺序不重要
<span class="token function">npm</span> <span class="token function">install</span> 包名 --save-dev     
或
//常用简写
<span class="token function">npm</span> i 包名 <span class="token parameter variable">-D</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="解决下包速度慢的问题" tabindex="-1"><a class="header-anchor" href="#解决下包速度慢的问题" aria-hidden="true">#</a> <strong>解决下包速度慢的问题</strong></h2><ol><li>npm 下包的时候，默认从国外的 https://registry.npmjs.org/ 服务器进行下载，可能会慢</li><li>使用国内镜像服务器-淘宝，大幅改善下载速度</li></ol><p><img src="`+p+`" alt=""></p><h3 id="切换npm-的下包镜像源" tabindex="-1"><a class="header-anchor" href="#切换npm-的下包镜像源" aria-hidden="true">#</a> 切换npm 的下包镜像源</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">npm</span> config get registry 	<span class="token comment"># 查看当前包镜像源</span>
<span class="token function">npm</span> config <span class="token builtin class-name">set</span> <span class="token assign-left variable">registry</span><span class="token operator">=</span>http://registry.npm.taobao.org/ <span class="token comment"># 切换源头</span>
<span class="token function">npm</span> config get registry 	<span class="token comment"># 检查镜像源是否下载成功</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>为了方便的切换下包的镜像源，安装<strong>nrm</strong>小工具，利用 nrm 提供的终端命令，快速查看和切换下包的镜像源</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> nrm <span class="token parameter variable">-g</span>	<span class="token comment"># -g 全局可用</span>
nrm <span class="token function">ls</span>							<span class="token comment"># 查看当前可用的镜像源地址list</span>
nrm use taobao			<span class="token comment"># 切换镜像源</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="包的分类" tabindex="-1"><a class="header-anchor" href="#包的分类" aria-hidden="true">#</a> 包的分类</h2><p>使用 npm 包管理工具下载的包，共分为两大类，分别是</p><h3 id="项目包" tabindex="-1"><a class="header-anchor" href="#项目包" aria-hidden="true">#</a> 项目包</h3><p>那些被安装到项目的 node_modules 目录中的包，都是项目包。项目包又分为两类</p><ul><li>开发依赖包（被记录到 devDependencies节点中的包，只在开发期间会用到）<strong>npm i 包名 -D</strong></li><li>核心依赖包（被记录到 dependencies节点中的包，在开发期间和项目上线之后都会用到）<strong>npm i 包名</strong></li></ul><h3 id="全局包" tabindex="-1"><a class="header-anchor" href="#全局包" aria-hidden="true">#</a> <strong>全局包</strong></h3><p>在执行 npm install 命令时，如果提供了 -g 参数，则会把包安装为全局包</p><p><strong>全局包会被安装到 C:\\Users\\用户目录\\AppData\\Roaming\\npm\\node_modules 目录下</strong></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> 包名 <span class="token parameter variable">-g</span>	<span class="token comment"># 全局安装指定的包</span>
<span class="token function">npm</span> uninstall 包名 <span class="token parameter variable">-g</span>	<span class="token comment"># 卸载全局指定的包</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>注意</p><ul><li><strong>只有工具性质的包，才有全局安装的必要性</strong>。因为它们提供了好用的终端命令</li><li>判断某个包是否需要全局安装后才能使用，可以参考官方提供的使用说明即可</li></ul><h2 id="规范的包结构" tabindex="-1"><a class="header-anchor" href="#规范的包结构" aria-hidden="true">#</a> 规范的包结构</h2><p>一个规范的包，它的组成结构，必须符合以下 3 点要求</p><ul><li>包必须以单独的目录而存在</li><li>包的<strong>顶级</strong>目录（点进去的目录）下要<strong>必须包含 package.json</strong> 这个包管理配置文件</li><li>package.json 中<strong>必须包含 name，version，main这三个属性</strong>，分别代表包的名字、版本号、包的入口(.js文件)（<code>require()</code>加载的文件）</li><li>关于更多的约束参考 https://yarnpkg.com/zh-Hans/docs/package-json</li></ul><h2 id="开发包" tabindex="-1"><a class="header-anchor" href="#开发包" aria-hidden="true">#</a> 开发包</h2><ol><li>新建 itheima-tools 文件夹，作为包的根目录</li><li>在 itheima-tools 文件夹中，新建。<strong>也可以直接初始化（npm init -y）</strong></li></ol><h3 id="package-json-包管理配置文件" tabindex="-1"><a class="header-anchor" href="#package-json-包管理配置文件" aria-hidden="true">#</a> package.json （包管理配置文件）</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token punctuation">{</span>
  <span class="token string-property property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;itheima-tools&quot;</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.1.0&quot;</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;main&quot;</span><span class="token operator">:</span> <span class="token string">&quot;index.js&quot;</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;提供了格式化时间、HTMLEscape相关的功能&quot;</span><span class="token punctuation">,</span><span class="token comment">//检索时出现的功能介绍</span>
  <span class="token string-property property">&quot;keywords&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token comment">//搜索关键词</span>
    <span class="token string">&quot;itheima&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;dateFormat&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;escape&quot;</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;license&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ISC&quot;</span><span class="token comment">//协议</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="index-js-包的入口文件" tabindex="-1"><a class="header-anchor" href="#index-js-包的入口文件" aria-hidden="true">#</a> index.js （包的入口文件）</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// src 文件夹下开发代码，导入到 index.js 中</span>
<span class="token keyword">const</span> date <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./src/dateFormat&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> escape <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./src/htmlEscape&#39;</span><span class="token punctuation">)</span>

<span class="token comment">// 向外暴露需要的成员</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span>date<span class="token punctuation">,</span>		<span class="token comment">// ... 展开运算符，将data所有属性交给新对象</span>
  <span class="token operator">...</span>escape		<span class="token comment">// ... 展开运算符，将escape所有属性交给新对象</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="src-源代码" tabindex="-1"><a class="header-anchor" href="#src-源代码" aria-hidden="true">#</a> src 源代码</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// dateFormat.js</span>

<span class="token keyword">function</span> <span class="token function">dateFormat</span><span class="token punctuation">(</span><span class="token parameter">dateStr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">/* 略 */</span><span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">padZero</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">return</span> n <span class="token operator">&gt;</span> <span class="token number">9</span> <span class="token operator">?</span> n <span class="token operator">:</span> <span class="token string">&#39;0&#39;</span> <span class="token operator">+</span> n<span class="token punctuation">}</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  dateFormat
<span class="token punctuation">}</span>

<span class="token comment">// htmlEscape.js</span>

<span class="token keyword">function</span> <span class="token function">htmlEscape</span><span class="token punctuation">(</span><span class="token parameter">htmlstr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">/* 略 */</span><span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">htmlUnEscape</span><span class="token punctuation">(</span><span class="token parameter">str</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">/* 略 */</span><span class="token punctuation">}</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  htmlEscape<span class="token punctuation">,</span>
  htmlUnEscape
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="readme-md-包的说明文档" tabindex="-1"><a class="header-anchor" href="#readme-md-包的说明文档" aria-hidden="true">#</a> README.md （包的说明文档）</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>## 安装
​<span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token template-punctuation string">\`</span></span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">
npm install itheima-tools
​</span><span class="token template-punctuation string">\`</span></span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token template-punctuation string">\`</span></span>

## 导入
​<span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token template-punctuation string">\`</span></span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">js
const itheima = require(&#39;itheima-tools&#39;)
​</span><span class="token template-punctuation string">\`</span></span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token template-punctuation string">\`</span></span>

## 格式化时间
​<span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token template-punctuation string">\`</span></span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">js
// 调用 dateFormat 对时间进行格式化
const dtStr = itheima.dateFormat(new Date())
// 结果  2020-04-03 17:20:58
console.log(dtStr)
​</span><span class="token template-punctuation string">\`</span></span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token template-punctuation string">\`</span></span>

## 转义 <span class="token constant">HTML</span> 中的特殊字符
​<span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token template-punctuation string">\`</span></span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">js
略
​</span><span class="token template-punctuation string">\`</span></span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token template-punctuation string">\`</span></span>

## 还原 <span class="token constant">HTML</span> 中的特殊字符
​<span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token template-punctuation string">\`</span></span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">js
略
​</span><span class="token template-punctuation string">\`</span></span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token template-punctuation string">\`</span></span>

## 开源协议
<span class="token constant">ISC</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="使用" tabindex="-1"><a class="header-anchor" href="#使用" aria-hidden="true">#</a> 使用</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> itheima <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./itheima-tools&#39;</span><span class="token punctuation">)</span>

<span class="token comment">// 格式化时间的功能</span>
<span class="token keyword">const</span> dtStr <span class="token operator">=</span> itheima<span class="token punctuation">.</span><span class="token function">dateFormat</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>dtStr<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;-----------&#39;</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> htmlStr <span class="token operator">=</span> <span class="token string">&#39;&lt;h1 title=&quot;abc&quot;&gt;这是h1标签&lt;span&gt;123&amp;nbsp;&lt;/span&gt;&lt;/h1&gt;&#39;</span>
<span class="token keyword">const</span> str <span class="token operator">=</span> itheima<span class="token punctuation">.</span><span class="token function">htmlEscape</span><span class="token punctuation">(</span>htmlStr<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;-----------&#39;</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> str2 <span class="token operator">=</span> itheima<span class="token punctuation">.</span><span class="token function">htmlUnEscape</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str2<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="发布包" tabindex="-1"><a class="header-anchor" href="#发布包" aria-hidden="true">#</a> 发布包</h2><ol><li><p>https://www.npmjs.com/ 注册 npm 账号</p></li><li><p>在终端登录，终端中执行 <code>npm login</code> 命令，依次输入用户名、密码、邮箱后，即可登录成功</p><ul><li>注意：执行命令前，必须先把下包的服务器地址切换为 npm 的官方服务器。否则会导致发布包失败！先用nrm命令检查一下，nrm use 命令切换。</li></ul></li><li><p>终端切换到包的根目录之后，运行 <code>npm publish</code> 命令，即可将包发布到 npm 上（注意：包名不能雷同）</p></li><li><p>运行 <code>npm unpublish 包名 --force命令</code>，即可从 npm 删除已发布的包</p><ul><li>npm unpublish 命令只能删除 72 小时以内发布的包</li><li>npm unpublish 删除的包，在 24 小时内不允许重复发布</li><li>发布包的时候要慎重，尽量不要往 npm 上发布没有意义的包</li></ul></li></ol>`,83),c=[i];function l(r,u){return s(),a("div",null,c)}const k=n(o,[["render",l],["__file","05-npmyubao.html.vue"]]);export{k as default};
